<!DOCTYPE html>
<head>
<style>
a:link {
  color: white;
  background-color: transparent;
  text-decoration: none;
}
a:visited {
  color: white;
  background-color: transparent;
  text-decoration: none;
}
a:hover {
  color: white;
  background-color: transparent;
  text-decoration: none;
  font-weight: bold;
}
a:active {
  color: white;
  background-color: transparent;
  text-decoration: none;
}
h1 {
  text-decoration: underline;
  color:green;
}
h2 {
  padding-left: 25px;
  color:green;
}
h2 {
  padding-left: 50px;
  color:green;
}
h3 {
  padding-left: 75px;
  color:green;
}
h4 {
  padding-left: 100px;
  color:green;
}
h5 {
  padding-left: 125px;
  color:green;
}
#two{
  padding-left: 75px1;
  color:white;
}
#three{
  padding-left: 100px;
  color:white;
}
#four{
  padding-left: 125px;
  color:white;
  white-space: pre-wrap;
}
#five{
  padding-left: 150px;
  color:white;
  white-space: pre-wrap;
}
#toc_container {
    background: #000000 none repeat scroll 0 0;
    border: 1px solid #000000;
    display: table;
    font-size: 90%;
    width: auto;
    float: right;
    padding-right: 25px;
}
#toc_container li, #toc_container ul, #toc_container ul li{
    list-style: outside none none !important;
}
table.linux_table {
  padding-left: 125px;
  color: green;
}
table.linux_table th, td{
  padding-right: 10px;
  text-align: left;
}
</style>
</head>
<html>
<body style="background-color:black;">
<h1>AB's Quick Reference Guide</h1>
<div id="toc_container">
  <code>
  <ul class="toc_list">
    <li><a href="#commands">1 - Commands</a>
    <ul>
      <li><a href="#commands_cisco">1.1 - Cisco</a></li>
      <li><a href="#commands_juniper">1.2 - Juniper</a></li>
      <li><a href="#commands_linux">1.3 - Linux</a></li>
      <li><a href="#commands_aruba">1.3 - HPE Aruba</a></li>
    </ul>
  </li>
  <li><a href="#links">2 - Links</a>
    <ul>
      <li><a href="#links_online">2.1 - Online</a></li>
      <li><a href="#links_offline">2.2 - Offline</a></li>
      <li><a href="#links_info">2.3 - Info</a></li>
    </ul>
  </li>
  <li><a href="#scripts">3 - Scripts</a>
    <ul>
      <li><a href="#scripts_shell">3.1 - Shell</a></li>
    </ul>
  </li>
  </ul>
  </code>
  </div>
<h2 id="commands">Commands</h2>
<h3 id="commands_cisco">Cisco</h3>
<h4>BGP Routes / Show / XR12416 / IOS-XR 4.3.31</h4>
<p id="four"><code>show bgp vpnv4 unicast rd 13979:354485 1.1.1.1/32
show route rd-prefix 13979:354485:1.1.1.1/32</code>
</p>
<h3 id="commands_juniper">Juniper</h3>
<h4>BGP Graceul Restart / Configure / MX960 / JunOS 20.2R3-S2.5</h4>
<p id="four"><code>set routing-instances 13979:126398 protocols bgp group gp_13979:126398 neighbor 10.102.8.1 graceful-restart disable
</code></p>
<h4>Interface / Show / MX960 / JunOS 20.2R3-S2.5</h4>
<p id="four"><code>show configuration interface xe-2/2/0.403 | display set
show configuration interface xe-2/2/0.403 | display set | match "unit 400 "
</code></p>
<h4>Prefix List / Show / MX960 / JunOS 20.2R3-S2.5</h4>
<p id="four"><code>show configuration policy-options prefix-list PL_CGN_ADDRESSES
</code></p>
<h4>Filters / Show / MX960 / JunOS 20.2R3-S2.5</h4>
<p id="four"><code>show configuration firewall family inet filter FW_PROTECT_LOOPBACK
</code></p>
<h3 id="commands_linux">Linux</h3>
<table class="linux_table">
  <tr>
    <th>Syntax</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><code><font color="white"> chmod g+w [file]</font></code></td>
    <td>Adds write access for group members.</td>
  </tr>
  <tr>
    <td><code><font color="white">chmod o+rwx [file]</font></code></td>
    <td>Adds read/write/execute access for other users.</td>
  </tr>
  <tr>
    <td><code><font color="white">df | grep app_vg</font></code></td>
    <td>Checks server storage space.</td>
  </tr>
  <tr>
    <td><code><font color="white">pwd</font></code></td>
    <td>Shows current directly.</td>
  </tr>
  <tr>
    <td><code><font color="white">rm -r</font></code></td>
    <td>Removes Directory and Files.</td>
  </tr>
  <tr>
    <td><code><font color="white">head</font></code></td>
    <td>Prints First 10 Lines.</td>
  </tr>
  <tr>
    <td><code><font color="white">tail</font></code></td>
    <td>Prints Last 10 Lines.</td>
  </tr>
  <tr>
    <td><code><font color="white">grep [string] [file]</font></code></td>
    <td>Search.</td>
  </tr>
  <tr>
    <td><code><font color="white">cmp [file1] [file2]</font></code></td>
    <td>Compares Two Files.</td>
  </tr>
  <tr>
    <td><code><font color="white">find | grep [string]</font></code></td>
    <td>Searches for filename matches.</td>
  </tr>
  <tr>
    <td><code><font color="white">ip addr show</font></code></td>
    <td>Shows interface IP information.</td>
  </tr>
  <tr>
    <td><code><font color="white">hostname</font></code></td>
    <td>Shows system hostname.</td>
  </tr>
  <tr>
    <td><code><font color="white">/bin/netstat -tanp | grep LISTEN</font></code></td>
    <td>Shows open ports for server.</td>
  </tr>
  <tr>
    <td><code><font color="white">cal</font></code></td>
    <td>Shows calendar with current date.</td>
  </tr>
  <tr>
    <td><code><font color="white">history</font></code></td>
    <td>Shows command history executed by current user.</td>
  </tr>
  <tr>
    <td><code><font color="white">cp -avr [dir1] [dir2]</font></code></td>
    <td>Copys entire contents of directory.</td>
  </tr>
  <tr>
    <td><code><font color="white">tar -czvf backup.tar.gz /home/apache/.profile /opt/app/workload/</font></code></td>
    <td>Compress files/folders into single file.</td>
  </tr>
</table>
<h3 id="commands_aruba">HPE Aruba</h3>
<h4>Switch Stacking / Show / CX TBD / TBD</h4>
<p id="four"><code>show vsf topology</code></p>
<h4>Similar to CDP Neighbor / Show / CX TBD / TBD</h4>
<p id="four"><code>show lldp neighbor</code></p>
<h4>Reload / Command / CX TBD / TBD</h4>
<p id="four"><code>boot system</code></p>
<h4>Copy Config From USB / Command / CX TBD / TBD</h4>
<p id="four"><code>mount usb 
copy usb://filename.txt start</code>
</p>
<h4>TFTP Backup / Backup / CX / Any</h4>
<p id="four"><code>copy running-config tftp://tftp.colgate.edu/aos_configs/switchname.colgate.edu.cli cli</code></p>
<h2 id="links">Links</h2>
<h3 id="links_online">Online Applications</h3>
<p id="three"><code>
<a href="https://jodies.de/ipcalc" target="_blank">IP Calculator</a>
</code></p>
<h3 id="links_offline">Installable Applications</h3>
<h3 id="links_info">Information</h3>
<h2 id="scripts">Scripts</h2>
<h3 id="scripts_shell">Shell Script</h3>
<h4>Cisco SNMP/TFTP Load Configurations</h4>
<h5>Server Notes</h5>
<p id="five"><code>/home/ab7690/provfix.sh
alias provfix="/home/ab7690/provfix.sh"
chmod a+rwx /home/ab7690/provfix.sh
chmod a+rwx /home/ab7690/provfix.txt
dos2unix /home/ab7690/provfix.sh
</code></p>
<h5>Script</h5>
<p id="five"><code>#!/bin/bash
echo What is the router\'s IP address?
read hostip
echo ""
echo What is your management interface? [Loopback0]
read mgmtintf
echo ""
myrandom=$RANDOM
{
cp /home/ab7690/provfix.txt /tftpdir/pub/
chmod 777 /tftpdir/pub/provfix.txt
if [[ -z "$mgmtintf" ]]
then
mgmtintf="Loopback0"
fi
sed -i 's,Loopback0,'"$mgmtintf"',g' /tftpdir/pub/provfix.txt
} >/dev/null
echo For PNT ensure, [ ip tftp source $mgmtintf ] is already configured in router or this will FAIL. [Confirm]
read placeholder
echo ========================
cat /tftpdir/pub/provfix.txt
echo ========================
while true; do
    read -p "Do you wish to load the above configurations to the router via TFTP? [Yes/No]" yn
    case $yn in
        [Yy]* )
{
snmpset -c snmpstring -v 2c $hostip 1.3.6.1.4.1.9.9.96.1.1.1.1.2.$myrandom i 1
snmpset -c snmpstring -v 2c $hostip 1.3.6.1.4.1.9.9.96.1.1.1.1.3.$myrandom i 1
snmpset -c snmpstring -v 2c $hostip 1.3.6.1.4.1.9.9.96.1.1.1.1.4.$myrandom i 4
snmpset -c snmpstring -v 2c $hostip 1.3.6.1.4.1.9.9.96.1.1.1.1.5.$myrandom a 1.1.1.1
snmpset -c snmpstring -v 2c $hostip 1.3.6.1.4.1.9.9.96.1.1.1.1.6.$myrandom s provfix.txt
snmpset -c snmpstring -v 2c $hostip 1.3.6.1.4.1.9.9.96.1.1.1.1.14.$myrandom i 1
} >/dev/null
echo SNMPset executed, the configurations will attempt to be loaded to the router via TFTP.
break;;
        [Nn]* ) break;;
        * ) echo "Please answer yes or no.";;
    esac
done
echo ""
while true; do
    read -p "Do you want to CBACK this router? [Yes/No]" yn
    case $yn in
        [Yy]* ) cback --host=$hostip --initial; break;;
        [Nn]* ) break;;
        * ) echo "Please answer yes or no.";;
    esac
done
echo ""
while true; do
    read -p "Do you wish to ADDTAC to this router? [Yes/No]" yn
    case $yn in
        [Yy]* ) addtac --generatekey --ssh --host $hostip; break;;
        [Nn]* ) break;;
        * ) echo "Please answer yes or no.";;
    esac
done
{
rm /tftpdir/pub/provfix.txt
} >/dev/null
</code></p>
</body>
</html>